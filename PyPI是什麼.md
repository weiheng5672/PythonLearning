事物的複雜性不會消失，它只會被隱藏起來。

這是林信良在他的 Python 3.9 那本書中的一句話，啟發了我對 Python 的兩層架構理解。

### Python 的兩層架構

Python 的架構可以大致分為上下兩層：

1. **上層**：
   - 我們撰寫的程式，代表專案的核心功能，實際會被落地並實踐的業務邏輯。
   - 這一層直接面向開發者，提供高層次的抽象與工具，讓程式設計變得更加直觀和高效。

2. **底層**：
   - 支撐上層的一切基礎設施，包括解釋器、標準庫，以及第三方庫。
   - 這一層負責處理程式運行的細節，隱藏了大部分的技術複雜性。

Python 的設計理念是盡量將程式設計的複雜性隱藏在底層，讓開發者能更專注於上層的業務邏輯。然而，我使用了“盡量”這個詞，因為這種隱藏並不完美。

### 隱藏的複雜性

在實際使用 Python 時，我們需要投入相當多的努力來處理隱藏在底層的不完美。例如，雖然 Python 提供了許多工具和庫供我們直接使用，但當我們遇到問題或需要擴展功能時，往往需要深入底層，理解其工作原理。

以下是幾個例子：

#### Hello World 範例

```python
print("Hello, World!")
```

這是一個只有一行的 Python 程式，簡潔到幾乎讓人感受不到程式設計的複雜性。

然而，實際上這一行背後隱藏著多層次的工作：
- **上層**：`print("Hello, World!")` 是開發者下的指令，表達了我們的需求。
- **底層**：解釋器負責執行這一指令，處理輸出到終端的細節。

#### 矩陣運算範例

當你需要進行矩陣運算時，Python 的內建功能並不足夠，你需要引入像 `numpy` 這樣的第三方庫。

- **上層**：你撰寫的有關矩陣運算的程式，例如：
```python
import numpy as np
a = np.array([[1, 2], [3, 4]])
b = np.array([[5, 6], [7, 8]])
result = np.dot(a, b)
print(result)
```
  這些程式碼直接描述了矩陣運算的邏輯。

- **底層**：Python 解釋器與 `numpy` 庫共同支撐了這些邏輯的運行。

這時候就引出了另一個問題：`numpy` 是從哪裡來的？

### pip 和 PyPI 的角色

當我們需要安裝 `numpy` 時，我們會使用 `pip` 指令：

```bash
pip install numpy
```

這背後的運作方式是：
1. **連接到 PyPI**：`pip` 通過網絡連接到 Python 軟件包的官方倉庫 [PyPI](https://pypi.org/)。
2. **搜尋並下載**：從 PyPI 上找到對應的 `numpy` 軟件包，並將其下載到本地。
3. **安裝與配置**：`pip` 將下載的軟件包安裝到你的 Python 環境中，供程式使用。

因此，當你寫下與矩陣運算相關的程式時：
- **上層**：撰寫的代碼描述了業務邏輯。
- **底層**：解釋器和 `numpy` 庫共同完成了計算。

而 `numpy` 本身則是通過 `pip` 從 PyPI 上下載而來，這展示了 Python 生態系統的高度集成與便利性。

### 總結

Python 的設計哲學是盡量將複雜性隱藏起來，提供簡單直觀的上層介面。但我們需要明白，這種隱藏並非完美無瑕，底層的運作仍然影響著我們的開發體驗。

- PyPI 是 Python 軟件包的集中倉庫，為我們提供了數十萬個可用的工具和庫。
- `pip` 是通往 PyPI 的橋樑，讓我們能輕鬆下載和安裝所需的包。

透過這種上層與底層的分工，Python 成為一個既易於上手又功能強大的語言，讓我們能專注於業務邏輯，同時在需要時深入挖掘底層的細節。

